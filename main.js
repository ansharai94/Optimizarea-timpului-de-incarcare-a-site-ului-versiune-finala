document.addEventListener("DOMContentLoaded",()=>{if("IntersectionObserver" in window){const e=document.querySelectorAll('img[loading="lazy"]'),t=new IntersectionObserver((e,t)=>{e.forEach((e)=>{if(e.isIntersecting){const s=e.target;(s.src=s.dataset.src||s.src),t.unobserve(s)}})});e.forEach((e)=>{t.observe(e)})}
const e=document.querySelectorAll('iframe[loading="lazy"]');if("IntersectionObserver" in window){const t=new IntersectionObserver((e,t)=>{e.forEach((e)=>{if(e.isIntersecting){const s=e.target;s.dataset.src&&((s.src=s.dataset.src),s.removeAttribute("data-src")),t.unobserve(s)}})});e.forEach((e)=>{t.observe(e)})}else e.forEach((e)=>{e.dataset.src&&((e.src=e.dataset.src),e.removeAttribute("data-src"))});({slides:document.querySelectorAll(".slide"),dots:document.querySelectorAll(".dot"),prevBtn:document.querySelector(".arrow.prev"),nextBtn:document.querySelector(".arrow.next"),currentSlide:0,slideInterval:null,init:function(){this.slides.length&&(document.querySelector(".slide-dots").addEventListener("click",(e)=>{if(e.target.classList.contains("dot")){const t=Number.parseInt(e.target.dataset.slide,10);isNaN(t)||this.goToSlide(t)}}),this.prevBtn.addEventListener("click",()=>this.prevSlide()),this.nextBtn.addEventListener("click",()=>this.nextSlide()),this.startAutoSlide(),document.querySelector(".hero-slider").addEventListener("mouseenter",()=>this.pauseAutoSlide()),document.querySelector(".hero-slider").addEventListener("mouseleave",()=>this.startAutoSlide()),document.addEventListener("keydown",(e)=>{"ArrowLeft"===e.key?this.prevSlide():"ArrowRight"===e.key&&this.nextSlide()}),this.preloadNextSlide())},goToSlide:function(e){e<0||e>=this.slides.length||e===this.currentSlide||(this.slides[this.currentSlide].classList.remove("active"),this.slides[e].classList.add("active"),this.dots[this.currentSlide].classList.remove("active"),this.dots[e].classList.add("active"),(this.currentSlide=e),this.preloadNextSlide())},nextSlide:function(){const e=(this.currentSlide+1)%this.slides.length;this.goToSlide(e)},prevSlide:function(){const e=(this.currentSlide-1+this.slides.length)%this.slides.length;this.goToSlide(e)},startAutoSlide:function(){this.pauseAutoSlide(),(this.slideInterval=setInterval(()=>{this.nextSlide()},5e3))},pauseAutoSlide:function(){this.slideInterval&&(clearInterval(this.slideInterval),(this.slideInterval=null))},preloadNextSlide:function(){const e=(this.currentSlide+1)%this.slides.length,t=this.slides[e].querySelector("img");if(t&&t.dataset.src&&!t.src){new Image().src=t.dataset.src}},}).init();const t=document.getElementById("contactForm");t&&t.addEventListener("submit",(e)=>{e.preventDefault();const s=new FormData(t),i=Object.fromEntries(s.entries());console.log("Form submitted:",i),alert("Mesajul a fost trimis cu succes! Vă vom contacta în curând."),t.reset()}),document.querySelectorAll('a[href^="#"]').forEach((e)=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const s=document.querySelector(t);s&&s.scrollIntoView({behavior:"smooth",block:"start"})})});const s=document.querySelectorAll("section[id]"),i=document.querySelectorAll(".nav-links a"),r=(function(e,t){let s=0;return(...i)=>{const r=new Date().getTime();if(!(r-s<t))return(s=r),e(...i);}})(()=>{const e=window.scrollY+100;s.forEach((t)=>{const s=t.offsetTop,r=t.offsetHeight,n=t.getAttribute("id");e>=s&&e<s+r&&i.forEach((e)=>{e.classList.remove("active"),e.getAttribute("href")===`#${n}`&&e.classList.add("active")})})},100);if((window.addEventListener("scroll",r),"IntersectionObserver" in window)){const e=document.querySelectorAll(".feature-box, .testimonial-box, .pricing-box"),t=new IntersectionObserver((e)=>{e.forEach((e)=>{e.isIntersecting&&(e.target.classList.add("animated"),t.unobserve(e.target))})},{threshold:0.1});e.forEach((e)=>{t.observe(e)})}})